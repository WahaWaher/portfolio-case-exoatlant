!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof module&&module.exports?module.exports=t():e.Rellax=t()}("undefined"!=typeof window?window:global,function(){var g=function(e,t){"use strict";var P=Object.create(g.prototype),u=0,B=0,f=0,D=0,w=[],n=!0,o=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(e){return setTimeout(e,1e3/60)},r=null,i=!1;try{var a=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("testPassive",null,a),window.removeEventListener("testPassive",null,a)}catch(e){}var l=window.cancelAnimationFrame||window.mozCancelAnimationFrame||clearTimeout,x=window.transformProp||function(){var e=document.createElement("div");if(null===e.style.transform){var t=["Webkit","Moz","ms"];for(var o in t)if(void 0!==e.style[t[o]+"Transform"])return t[o]+"Transform"}return"transform"}();P.options={speed:-2,verticalSpeed:null,horizontalSpeed:null,breakpoints:[576,768,1201],center:!1,wrapper:null,relativeToWrapper:!1,round:!0,vertical:!0,horizontal:!1,verticalScrollAxis:"y",horizontalScrollAxis:"x",callback:function(){}},t&&Object.keys(t).forEach(function(e){P.options[e]=t[e]}),t&&t.breakpoints&&function(){if(3===P.options.breakpoints.length&&Array.isArray(P.options.breakpoints)){var t,o=!0,n=!0;if(P.options.breakpoints.forEach(function(e){"number"!=typeof e&&(n=!1),null!==t&&e<t&&(o=!1),t=e}),o&&n)return}P.options.breakpoints=[576,768,1201],console.warn("Rellax: You must pass an array of 3 numbers in ascending order to the breakpoints option. Defaults reverted")}();var s="string"==typeof(e=e||".rellax")?document.querySelectorAll(e):[e];if(0<s.length){if(P.elems=s,P.options.wrapper&&!P.options.wrapper.nodeType){var p=document.querySelector(P.options.wrapper);if(!p)return void console.warn("Rellax: The wrapper you're trying to use doesn't exist.");P.options.wrapper=p}var G,d=function(){for(var e,t,o=0;o<w.length;o++)P.elems[o].style.cssText=w[o].style;w=[],B=window.innerHeight,D=window.innerWidth,e=D,t=P.options.breakpoints,G=e<t[0]?"xs":e>=t[0]&&e<t[1]?"sm":e>=t[1]&&e<t[2]?"md":"lg",m(),function(){for(var e=0;e<P.elems.length;e++){var t=c(P.elems[e]);w.push(t)}}(),b(),n&&(window.addEventListener("resize",d),n=!1,h())},c=function(e){var t,o=e.getAttribute("data-rellax-percentage"),n=e.getAttribute("data-rellax-speed"),r=e.getAttribute("data-rellax-xs-speed"),i=e.getAttribute("data-rellax-mobile-speed"),a=e.getAttribute("data-rellax-tablet-speed"),l=e.getAttribute("data-rellax-desktop-speed"),s=e.getAttribute("data-rellax-vertical-speed"),p=e.getAttribute("data-rellax-horizontal-speed"),d=e.getAttribute("data-rellax-vertical-scroll-axis"),c=e.getAttribute("data-rellax-horizontal-scroll-axis"),m=e.getAttribute("data-rellax-zindex")||0,u=e.getAttribute("data-rellax-min"),f=e.getAttribute("data-rellax-max"),w=e.getAttribute("data-rellax-min-x"),x=e.getAttribute("data-rellax-max-x"),v=e.getAttribute("data-rellax-min-y"),h=e.getAttribute("data-rellax-max-y"),b=!0;r||i||a||l?t={xs:r,sm:i,md:a,lg:l}:b=!1;var g=P.options.wrapper?P.options.wrapper.scrollTop:window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;P.options.relativeToWrapper&&(g=(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop)-P.options.wrapper.offsetTop);var y=P.options.vertical&&(o||P.options.center)?g:0,A=P.options.horizontal&&(o||P.options.center)?P.options.wrapper?P.options.wrapper.scrollLeft:window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft:0,z=y+e.getBoundingClientRect().top,T=e.clientHeight||e.offsetHeight||e.scrollHeight,E=A+e.getBoundingClientRect().left,L=e.clientWidth||e.offsetWidth||e.scrollWidth,S=o||(y-z+B)/(T+B),Y=o||(A-E+D)/(L+D);P.options.center&&(S=Y=.5);var k,O,X,R=b&&null!==t[G]?Number(t[G]):n||P.options.speed,W=s||P.options.verticalSpeed,q=p||P.options.horizontalSpeed,F=d||P.options.verticalScrollAxis,C=c||P.options.horizontalScrollAxis,M=I(Y,S,R,W,q),j=e.style.cssText,H="",N=/transform\s*:/i.exec(j);return N&&(k=N.index,H=(X=(O=j.slice(k)).indexOf(";"))?" "+O.slice(11,X).replace(/\s/g,""):" "+O.slice(11).replace(/\s/g,"")),{baseX:M.x,baseY:M.y,top:z,left:E,height:T,width:L,speed:R,verticalSpeed:W,horizontalSpeed:q,verticalScrollAxis:F,horizontalScrollAxis:C,style:j,transform:H,zindex:m,min:u,max:f,minX:w,maxX:x,minY:v,maxY:h}},m=function(){var e,t=u,o=f;return u=P.options.wrapper?P.options.wrapper.scrollTop:(document.documentElement||document.body.parentNode||document.body).scrollTop||window.pageYOffset,f=P.options.wrapper?P.options.wrapper.scrollLeft:(document.documentElement||document.body.parentNode||document.body).scrollLeft||window.pageXOffset,P.options.relativeToWrapper&&(e=(document.documentElement||document.body.parentNode||document.body).scrollTop||window.pageYOffset,u=e-P.options.wrapper.offsetTop),!(t==u||!P.options.vertical)||!(o==f||!P.options.horizontal)},I=function(e,t,o,n,r){var i={},a=(r||o)*(100*(1-e)),l=(n||o)*(100*(1-t));return i.x=P.options.round?Math.round(a):Math.round(100*a)/100,i.y=P.options.round?Math.round(l):Math.round(100*l)/100,i},v=function(){window.removeEventListener("resize",v),window.removeEventListener("orientationchange",v),(P.options.wrapper?P.options.wrapper:window).removeEventListener("scroll",v),(P.options.wrapper?P.options.wrapper:document).removeEventListener("touchmove",v),r=o(h)},h=function(){m()&&!1===n?(b(),r=o(h)):(r=null,window.addEventListener("resize",v),window.addEventListener("orientationchange",v),(P.options.wrapper?P.options.wrapper:window).addEventListener("scroll",v,!!i&&{passive:!0}),(P.options.wrapper?P.options.wrapper:document).addEventListener("touchmove",v,!!i&&{passive:!0}))},b=function(){for(var e=0;e<P.elems.length;e++){var t,o=w[e].verticalScrollAxis.toLowerCase(),n=w[e].horizontalScrollAxis.toLowerCase(),r=-1!=o.indexOf("x")?u:0,i=-1!=o.indexOf("y")?u:0,a=-1!=n.indexOf("x")?f:0,l=(i+(-1!=n.indexOf("y")?f:0)-w[e].top+B)/(w[e].height+B),s=(r+a-w[e].left+D)/(w[e].width+D),p=(t=I(s,l,w[e].speed,w[e].verticalSpeed,w[e].horizontalSpeed)).y-w[e].baseY,d=t.x-w[e].baseX;null!==w[e].min&&(P.options.vertical&&!P.options.horizontal&&(p=p<=w[e].min?w[e].min:p),P.options.horizontal&&!P.options.vertical&&(d=d<=w[e].min?w[e].min:d)),null!=w[e].minY&&(p=p<=w[e].minY?w[e].minY:p),null!=w[e].minX&&(d=d<=w[e].minX?w[e].minX:d),null!==w[e].max&&(P.options.vertical&&!P.options.horizontal&&(p=p>=w[e].max?w[e].max:p),P.options.horizontal&&!P.options.vertical&&(d=d>=w[e].max?w[e].max:d)),null!=w[e].maxY&&(p=p>=w[e].maxY?w[e].maxY:p),null!=w[e].maxX&&(d=d>=w[e].maxX?w[e].maxX:d);var c=w[e].zindex,m="translate3d("+(P.options.horizontal?d:"0")+"px,"+(P.options.vertical?p:"0")+"px,"+c+"px) "+w[e].transform;P.elems[e].style[x]=m}P.options.callback(t)};return P.destroy=function(){for(var e=0;e<P.elems.length;e++)P.elems[e].style.cssText=w[e].style;n||(window.removeEventListener("resize",d),n=!0),l(r),r=null},d(),P.refresh=d,P}console.warn("Rellax: The elements you're trying to select don't exist.")};return g});